<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>학생 홈 - 김천고등학교 외출 관리 시스템</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles_student_home.css') }}">
</head>
<body>
    <header>
        <img src="{{ url_for('static', filename='KakaoTalk_20240524_192806365.png') }}" alt="김천고등학교 로고">
        <h1>{{ session['user_id'] }}님, 환영합니다!</h1>
    </header>
    <div class="contents">
        <div id="student-info">
            <p>이름: {{ student.name }}</p>
            <p>학년: {{ student.student_grade }}학년</p>
            <p>반: {{ student.student_class }}반</p>
            <p>번호: {{ student.student_number }}</p>
            <p>바코드: {{ student.barcode }}</p>
        </div>
        <div id="outing-request">
            <form method="POST" action="{{ url_for('outing.request_outing') }}">
                <label for="out_time">외출 시작 시간:</label>
                <input type="datetime-local" id="out_time" name="out_time" required>
                <label for="in_time">외출 종료 시간:</label>
                <input type="datetime-local" id="in_time" name="in_time" required>
                <button type="submit">신청</button>
            </form>
        </div>
        <div id="outing-list">
            <h2>최근 외출 신청 내역</h2>
            <ul>
                {% for request in outing_requests %}
                <li class="outing-item">
                    <div>
                        <div class="outing-time">시작: {{ request.out_time }}</div>
                        <div class="outing-time">종료: {{ request.in_time }}</div>
                    </div>
                    <div class="outing-status {% if request.approved %}approved{% else %}pending{% endif %}">
                        {% if request.approved %}승인됨{% else %}대기중{% endif %}
                    </div>
                </li>
                {% else %}
                <li class="outing-item">외출 신청 내역이 없습니다.</li>
                {% endfor %}
            </ul>
        </div>
        <div class="logout-container">
            <a href="{{ url_for('login.logout') }}">로그아웃</a>
        </div>
    </div>
</body>
</html>
